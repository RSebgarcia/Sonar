<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Perfil - SONAR</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>
    <div class="app-layout">
        
        <!-- SIDEBAR (Igual que index) -->
        <aside class="sidebar-left">
            <div class="logo-container">
                <h2>sonar.</h2>
            </div>
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html"><i class="fas fa-home"></i> <span>Inicio</span></a></li>
                    <li><a href="index.html"><i class="fas fa-compass"></i> <span>Explorar</span></a></li>
                    <li class="active"><a href="#"><i class="fas fa-user"></i> <span>Mi Perfil</span></a></li>
                </ul>
            </nav>
        </aside>

        <!-- CONTENIDO PRINCIPAL: PERFIL -->
        <main class="main-content">
            
            <!-- 1. HEADER DEL ARTISTA -->
            <div class="profile-header">
                <div class="banner-container">
                    <img id="my-banner" src="https://via.placeholder.com/1200x400/333/333" alt="Banner">
                    <button class="edit-banner-btn"><i class="fas fa-camera"></i> Cambiar Portada</button>
                </div>
                <div class="profile-info-bar">
                    <div class="profile-avatar-container">
                        <img id="my-avatar" src="https://via.placeholder.com/150" alt="Avatar">
                    </div>
                    <div class="profile-details">
                        <p>ARTISTA</p>
                        <h1 id="my-artist-name">Nombre Artista</h1>
                        <p>0 Seguidores • <span id="track-count">0</span> Canciones</p>
                    </div>
                    <div class="action-bar">
                        <button class="btn-secondary" id="edit-profile-btn">Editar Perfil</button>
                        <button class="btn-primary" id="upload-btn">
                            <i class="fas fa-cloud-upload-alt"></i> Subir Música
                        </button>
                    </div>
                </div>
            </div>

            <!-- 2. CONTENIDO (DISCOGRAFÍA) -->
            <div style="padding: 0 20px;">
                <h3 class="section-title">Mis Lanzamientos</h3>
                <div id="my-releases-grid" class="song-grid">
                    <!-- JS llenará esto -->
                </div>
            </div>

        </main>
        
        <!-- SIDEBAR DERECHA (Opcional, la dejamos vacía para enfocar en perfil) -->
        <aside class="sidebar-right" style="background: var(--bg-base); border:none;"></aside>
    </div>

    <!-- REPRODUCTOR (Mudo visualmente, solo para consistencia) -->
    <footer class="player-bar">
        <div class="player-left">
            <div class="player-info">
                <h4>Reproductor en pausa</h4>
            </div>
        </div>
    </footer>

    <!-- MODAL DE SUBIDA (Oculto) -->
    <div id="upload-modal" class="modal-overlay">
        <div class="modal-content">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
                <h2>Nuevo Lanzamiento</h2>
                <button id="close-modal" style="background:none; border:none; color:white; font-size:24px; cursor:pointer;">&times;</button>
            </div>
            
            <form id="upload-form">
                <!-- Paso 1: Info del Disco -->
                <div class="form-group">
                    <label>Título del Álbum / Single</label>
                    <input type="text" id="release-title" placeholder="Ej: Clics Modernos" required>
                </div>
                <div class="form-group">
                    <label>Género</label>
                    <input type="text" id="release-genre" placeholder="Ej: Rock, Trap, Indie..." required>
                </div>
                <div class="form-group">
                    <label>Portada (Cuadrada)</label>
                    <input type="file" id="release-cover" accept="image/*" required>
                </div>

                <!-- Paso 2: Audio -->
                <div class="form-group">
                    <label>Archivos de Audio</label>
                    <div id="drop-zone" class="drop-zone">
                        <i class="fas fa-music"></i>
                        <p>Arrastra tus MP3 aquí o haz clic</p>
                        <input type="file" id="file-input" multiple accept=".mp3" hidden>
                    </div>
                </div>

                <div id="song-list-editor" style="margin-bottom: 20px;">
                    <!-- Aquí aparecen los inputs de canciones -->
                </div>

                <button type="submit" class="btn-primary" style="width:100%">Publicar Ahora</button>
            </form>
        </div>
    </div>

    <!-- MODAL EDITAR PERFIL -->
    <div id="edit-profile-modal" class="modal-overlay">
        <div class="modal-content">
            <h2>Editar Perfil</h2>
            <form id="edit-profile-form">
                <div class="form-group">
                    <label>Nombre Artista</label>
                    <input type="text" id="edit-name-input" required>
                </div>
                <div class="form-group">
                    <label>Foto de Perfil</label>
                    <input type="file" id="edit-avatar-input" accept="image/*">
                </div>
                <div class="form-group">
                    <label>Banner</label>
                    <input type="file" id="edit-banner-input" accept="image/*">
                </div>
                <button type="submit" class="btn-primary" style="width:100%">Guardar Cambios</button>
                <button type="button" id="close-edit-modal" class="btn-secondary" style="width:100%; margin-top:10px; border:none;">Cancelar</button>
            </form>
        </div>
    </div>

    <script src="js/database.js"></script>
    <script src="js/profile.js"></script>
</body>
</html>